https://code.google.com/archive/p/csipsimple/issues/1497<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #1497</h1>
            <p class="ng-binding">Nightly build r1197 / No video on Samsung Galaxy Tab</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 14, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p><b>What steps will reproduce the problem?</b></p>

<ol>
<li>Install nightly build r1197 on Samsung Galaxy Tab</li>
<li>Send or receive H.264 video call</li>
</ol>

<p><b>What is the expected output? What do you see instead?</b></p>

<p>Two-way streaming video and audio is expected but two-way audio is the only transmitted media. No video is displayed in either direction.</p>

<p><b>What version of the product are you using? On what operating system?</b></p>

<p>Samsung Galaxy Tab / Android 2.2</p>

<p><b>Please provide any additional information below.</b></p>

<p>Attached are two screen shots that show the results of my video calls. The call information screen shows "#1 unknown deactivated" at the bottom, which confirms that video is not being transmitted.</p>

<p>In fact the call preview window does not show video either, so it seems like the camera is not accessible at all.</p>

<p>Do you know if there are any settings that might get this working?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 14, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Comment deleted</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1497/comment-1/samsung-galaxy-tab4a.png" class="ng-binding">
                    samsung-galaxy-tab4a.png
                  </a> 183.27KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 14, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Something just didn't seem right to me because the preview window was blank. I mean I know that my camera works. So I uninstalled the APK and reinstalled it and things work a little better, though I still have no video being sent or received, but my preview window is working now.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1497/comment-2/samsung-galaxy-tab3.png" class="ng-binding">
                    samsung-galaxy-tab3.png
                  </a> 48.57KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1497/comment-2/samsung-galaxy-tab4a.png" class="ng-binding">
                    samsung-galaxy-tab4a.png
                  </a> 183.27KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 14, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I found another interesting bit of information, but I don't know if it is related to the "no video" problem or not. So I didn't open a new bug report for it.</p>

<p>What I'm seeing when I hang up is that the sip stack dies. So after I make a call and have no video I disconnect and within a second or two the application crashes. Attached is the dump state log file and in it you will see entries for signals 3, 9 and 11.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1497/comment-3/dumpstate_app_native.log.gz" class="ng-binding">
                    dumpstate_app_native.log.gz
                  </a> 166.89KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #4</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 14, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I forgot to mention that it seems like the sipstack dies only when disconnecting the call by clicking the "end" button in the android application.</p>

<p>If I hang up on the remote end then the sip stack seems to receive the SIP BYE message and it tears down the call correctly without dying.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #5</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok, the first point is about the fact I changed the default account settings of auto transmit and auto display to false. If you don't modify it in expert setting mode that's what you'll get.</p>

<p>I don't know yet what should be default value. If it's false I should add a button to allow to turn on/off transmition of video. I guess it would be better to directly manage that at negociation layer and just re-negociate video instead of managing only display.
So I'll switch back to true as default for these two settings. </p>

<p>I guess that the crash is a side effect of the fact that the video isn't actually started. I didn't tested my video dev implementation against this case yet.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #6</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>This issue was closed by revision r1198.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #7</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>r1198 fixed the "no video" problem and now I see video RTP is flowing in both directions, however, video is not rendered on the tablet. I only see video on the remote side.</p>

<p>When the call is disconnected the sipstack still dies (see the attached dumpstate log).</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1497/comment-7/dumpstate_app_native.log.gz" class="ng-binding">
                    dumpstate_app_native.log.gz
                  </a> 231.51KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #8</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>What is the other side?</p>

<p>For now, I deeply advise to try with h263. I'm not sure that H264 is finalized by pjsip guys : I had to make some modification to get things working between two csipsimple devices. And I'm not sure that according to the remote side h264 profile you will not fall in the same issue than the one I got.</p>

<p>So if the remote side allow you to reduce the codec list to only h263, could you try and tell me how it goes. </p>

<p>It could also be something I missed with this last patch (because I don't have everything needed to do unit video tests right now).</p>

<p>I'll try tonight. I'll also separate video stuff to be a plugin (so take care if you test video with tonight build you'll need an additional plugin). 
I'm doing that theorically right now, but will wait tonight and tests before commit.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #9</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>The other device is a WorldGate Ojo video phone (see www.ojoservices.com). Unfortunately this device does not accept H.263 so for now I'm only able to test H.264</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #10</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jun 18, 2012 by
                  <i class="ng-binding">Helpful Bear</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I wanted to confirm this bug as still existing, and not isolated. On the Samsung Galaxy S II as well as the Samsung Galaxy Tablet the same behavior occurs. The SIP stack will crash after hang-up when attempting H.263 OR H.264. Exactly as stated in comment #7 we will get video to send from the phone/tablet but CSS will never receive video (same green screen). This is via the latest Asterisk media-bridge. I have confirmed this media bridge works fine with H.264 using alternate softphones. Release r1629</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #11</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jun 21, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Yes, this is still an open issue.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #12</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 6, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I've done a little more testing on this issue as and I'm pretty sure that the problem has to do with the CSipSimple video library.</p>

<p>I downloaded the pjsip trunk (r4278) and compiled it on my iMac and on my Ubuntu netbook. Using a local SIP account on each I was able to make a perfect video call between them.</p>

<p>Next I took the netbook and registered it on our SIP router which is where my WorldGate Ojo video phone is also registered. Again, I was able to make a perfect video call between my netbook to my video phone.</p>

<p>Next I took my Samsung GalaxyTab and installed nightly build r1949 and the Video plugin from September 2012, then created a local SIP account. Using the local SIP account on my netbook to call the CSipSimple on my tablet resulted in difficulties. The video was very pixellated on the tablet. However, on netbook video was not pixellated, but was very delayed. Hanging up this call resulted in a SIGSEGV fault (see below).</p>

<p>So the bottom line with video testing is that I have yet to make a successful CSipSimple-to-vidgui reference application call nor have I been able to make a successful CSipSimple-to-video-phone call yet vidgui-to-vidgui works fine as does vidgui-to-video-phone.</p>

<p>I should also mention that all testing was using H264 as that is what I'm really after as my video phone does not support H263.</p>

<p>One more thing, my netbook ffmpeg config is shown at the very bottom of this post - I'm not sure if that is useful information or not.</p>

<p>I/DEBUG   (28688): Build fingerprint: 'samsung/SGH-T849/SGH-T849/SGH-T849:2.2/FROYO/UVJJB:user/release-keys'
I/DEBUG   (28688): pid: 28991, tid: 29076  &gt;&gt;&gt; com.csipsimple:sipStack &lt;&lt;&lt;
I/DEBUG   (28688): signal 11 (SIGSEGV), fault addr 00000000
I/DEBUG   (28688):  r0 0041dcf8  r1 00000000  r2 00000001  r3 00000000
I/DEBUG   (28688):  r4 00290e4c  r5 00000000  r6 55bb4940  r7 0042c358
I/DEBUG   (28688):  r8 0031f948  r9 000002d0  10 00000001  fp 000001e0
I/DEBUG   (28688):  ip 82a4a3fc  sp 54c53a40  lr 82a0e3b4  pc 82a0e3b4  cpsr 60000010
I/DEBUG   (28688):  d0  643a64696f72646e  d1  6472656767756265
I/DEBUG   (28688):  d2  000009c650fd0000  d3  0000030000000000
I/DEBUG   (28688):  d4  0000009b00000000  d5  000000000000009d
I/DEBUG   (28688):  d6  0000000100000000  d7  0000000100005b4c
I/DEBUG   (28688):  d8  0000000040000000  d9  43e0000000000000
I/DEBUG   (28688):  d10 41dfffffffc00000  d11 c3e0000000000000
I/DEBUG   (28688):  d12 0000000000000000  d13 0000000000000000
I/DEBUG   (28688):  d14 0000000000000000  d15 0000000000000000
I/DEBUG   (28688):  d16 0000000000000000  d17 3fdffffffddaaf00
I/DEBUG   (28688):  d18 3fe0000000000000  d19 3fe000000112a880
I/DEBUG   (28688):  d20 bfc99a1d5ba630ce  d21 3fc249905f68f814
I/DEBUG   (28688):  d22 bfbc727d6b1b001e  d23 3fb7466bbfb70d4f
I/DEBUG   (28688):  d24 bfb3b17d091e71db  d25 3fb10ddca7eb69e6
I/DEBUG   (28688):  d26 bfaddeda9628d886  d27 3fa97b98621a773f
I/DEBUG   (28688):  d28 bfa2b4442c6a6c2f  d29 3ff0000000000000
I/DEBUG   (28688):  d30 0000000000000000  d31 3ff0000000000000
I/DEBUG   (28688):  scr 20000012
I/DEBUG   (28688): 
I/DEBUG   (28688):          #00  pc 0000e3b4  /system/lib/egl/libGLESv2_POWERVR_SGX540_120.so
I/DEBUG   (28688):          #01  lr 82a0e3b4  /system/lib/egl/libGLESv2_POWERVR_SGX540_120.so
I/DEBUG   (28688): 
I/DEBUG   (28688): code around pc:
I/DEBUG   (28688): 82a0e394 e8bd8038 e92d41f0 e1a05001 e1a04000 
I/DEBUG   (28688): 82a0e3a4 e5900000 e1a08003 e1a06002 ebffd30a 
I/DEBUG   (28688): 82a0e3b4 e5953000 e5967014 e3a02001 e3530000 
I/DEBUG   (28688): 82a0e3c4 e5983000 12877001 e3a08000 ea00001a 
I/DEBUG   (28688): 82a0e3d4 e3520000 e5942004 e1a03203 e0836002 
I/DEBUG   (28688): 
I/DEBUG   (28688): stack:
I/DEBUG   (28688):     54c53a00  00281260  [heap]
I/DEBUG   (28688):     54c53a04  8233ac24  /data/data/com.csipsimple.plugins.video/lib/libpj_video_android.so
I/DEBUG   (28688):     54c53a08  00000000 <br>
I/DEBUG   (28688):     54c53a0c  44544f38 <br>
I/DEBUG   (28688):     54c53a10  8230d024  /data/data/com.csipsimple.plugins.video/lib/libpj_video_android.so
I/DEBUG   (28688):     54c53a14  8204a2dc  /data/data/com.csipsimple.plugins.video/lib/libpj_video_android.so
I/DEBUG   (28688):     54c53a18  8732b496 <br>
I/DEBUG   (28688):     54c53a1c  afd4a9b8 <br>
I/DEBUG   (28688):     54c53a20  00000800 <br>
I/DEBUG   (28688):     54c53a24  00000014 <br>
I/DEBUG   (28688):     54c53a28  00290e4c  [heap]
I/DEBUG   (28688):     54c53a2c  00000000 <br>
I/DEBUG   (28688):     54c53a30  55bb4940  /dev/pvrsrvkm
I/DEBUG   (28688):     54c53a34  0042c358  [heap]
I/DEBUG   (28688):     54c53a38  df002777 <br>
I/DEBUG   (28688):     54c53a3c  e3a070ad <br>
I/DEBUG   (28688): #00 54c53a40  00000000 <br>
I/DEBUG   (28688):     54c53a44  82a1d064  /system/lib/egl/libGLESv2_POWERVR_SGX540_120.so
I/DEBUG   (28688):     54c53a48  0031f938  [heap]
I/DEBUG   (28688):     54c53a4c  0042c358  [heap]
I/DEBUG   (28688):     54c53a50  004231d8  [heap]
I/DEBUG   (28688):     54c53a54  82a20820  /system/lib/egl/libGLESv2_POWERVR_SGX540_120.so
I/DEBUG   (28688):     54c53a58  00000000 <br>
I/DEBUG   (28688):     54c53a5c  000002d0 <br>
I/DEBUG   (28688):     54c53a60  000001e0 <br>
I/DEBUG   (28688):     54c53a64  82a41f14  /system/lib/egl/libGLESv2_POWERVR_SGX540_120.so
I/DEBUG   (28688):     54c53a68  54c53af0 <br>
I/DEBUG   (28688):     54c53a6c  54c53af4 <br>
I/DEBUG   (28688):     54c53a70  00000252 <br>
I/DEBUG   (28688):     54c53a74  00000371 <br>
I/DEBUG   (28688):     54c53a78  00000260 <br>
I/DEBUG   (28688):     54c53a7c  ffffffff <br>
I/DEBUG   (28688):     54c53a80  54c53ab0 <br>
I/DEBUG   (28688):     54c53a84  00000001  </p>

<p>ffmpeg version 0.10.5-6:0.10.5-0ubuntu0jon1 Copyright (c) 2000-2012 the FFmpeg developers
  built on Oct  1 2012 01:56:55 with gcc 4.6.3
  configuration: --arch=amd64 --enable-pthreads --enable-runtime-cpudetect --extra-version='6:0.10.5-0ubuntu0jon1' --libdir=/usr/lib/x86_64-linux-gnu --disable-stripping --prefix=/usr --enable-bzlib --enable-libdc1394 --enable-libfreetype --enable-frei0r --enable-gnutls --enable-libgsm --enable-libmp3lame --enable-librtmp --enable-libopencv --enable-libopenjpeg --enable-libpulse --enable-libschroedinger --enable-libspeex --enable-libtheora --enable-vaapi --enable-vdpau --enable-libvorbis --enable-libvpx --enable-zlib --enable-gpl --enable-postproc --enable-libcdio --enable-x11grab --enable-libx264 --shlibdir=/usr/lib/x86_64-linux-gnu --enable-shared --disable-static
  libavutil      51. 35.100 / 51. 35.100
  libavcodec     53. 61.100 / 53. 61.100
  libavformat    53. 32.100 / 53. 32.100
  libavdevice    53.  4.100 / 53.  4.100
  libavfilter     2. 61.100 /  2. 61.100
  libswscale      2.  1.100 /  2.  1.100
  libswresample   0.  6.100 /  0.  6.100
  libpostproc    52.  0.100 / 52.  0.100</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #13</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 9, 2012 by
                  <i class="ng-binding">Happy Rhino</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Same issue on Samsung Galaxy S3, tested on both Android 4.1.1 and 4.1.2 (codefireX ROM).  Video transmit works but is of very poor quality, video receive does not work at all (green screen).  </p>

<p>Also have the issue mentioned elsewhere in this bug where-in the SIP stack jams up after a broken video call and a reboot is necessary to get it going again.</p>

<p>Tested r1949 and r1952, same behavior on each.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #14</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 10, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Thanks for feedback guys. Sorry if I'm not very responsive, I'm really busy on my full time part job those days.</p>

<p>Some input from current state on video : 
 * Only works with 3.x or upper for now. It's inherited from webRTC project and only support openGL-ES2 for now. There is probably things to adapt to get it working with lower version. So, crash you get on 2.3 is not so surprising. If you have time to debug, it's probably to search on the webRTC renderer. (I don't think it's my glue but rather the actual code from webRTC on this topic).</p>

<ul>
<li><p>There is a known problem I have to take time to debug when input video frame size are different from the default one considered by pjsip. As I didn't dig into this problem yet I was not sure if in my video rendering glue with webrtc or with pjmedia. So phazlett test with vidgui is very interesting because it validates pjmedia is not the culprit. So probably my video glue with webRTC that doesn't correctly rescale the video frames when the input frame scale is different from the first announced. (There is maybe an update handler to implement or something like that).</p></li>
<li><p>If something went wrong and the video renderer is not able to render any frame it will put the webrtc glue in a bad state (endless waiting loop) and any new call will fail with same green view (in fact, green = 0 in all bits of the frame that renders green when converted from YUV) .</p></li>
<li><p>Normally, provided the two ends use the same video frame size (width x height) it should work with h263 and h264 (I did tests with both).</p></li>
</ul>

<p>So to sum up what is known as use case is android 3.x or upper with h263 or h264 when calling a remote side use same video frame size than the default one.</p>

<p>Else, you'll need to debug and help me to solve the issues listed above ;).</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #15</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 28, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Quick update on the issue :</p>

<p>The points n°2 and n°3 above should be solved. </p>

<p>It will be produced in tonight nightly build (to solve one broken part in pjsip) and the video plugin part has also been updated on the plugin folder.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #16</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 29, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>This is definitely forward progress. I tested r1984 with the new video plugin and now I have two-way video. I did some testing between pjsip vidgui and r1984 as well as between my Ojo video phone and r1984 and the problem that I see is that in both cases the video being rendered in CSipSimple is very much delayed.</p>

<p>In fact there is a latency of about 30 seconds.</p>

<p>Next I disabled the H.264 codec in CSipSimple and had good quality between csip and vidgui. I am not able to test H.263 between csip and my Ojo phone because Ojo does not support H.263.</p>

<p>These tests were done on my Samsung Galaxy Tab which I recently rooted and put Cyanogenmod 9 on it (ICS 4.0.4).</p>

<p>Is there something else I can try setting to get the video to render without the latency?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #17</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 30, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>yep
you can change h264 params. 
go in media &gt; settings &gt; advanced codec options. 
here you have 3 params for h264. by default it's high level to have high quality in low latency network and high cpu devices.  but if your network is slower you can change these params. 
For the profile line keep baseline. 
For the level you can drastically reduce it.  By default it's 3.0 but you can change to 2.0. On my android tv box that has slow decoding/encoding caps 2.1 is a max. 
The level will also constraint frames size (see h264 Wikipedia page for example)
And last option is the bitrate. If problem is CPU on remote/ or on android will help kie less than level. But if network will help a lot. It can also gives more aggressively compressed quality. </p>

<p>Once hardware h264 decoding will be used it will probably relax a little android CPU. 
but not yet done as needs to be done using dynamic detection of device and use private native api. </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #18</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 30, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Setting the level to 2.2 (or lower) fixes the latency. I think you can mark this issue as 'fixed'.</p>

<p>Thanks.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #19</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 30, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok thanks for the update.</p>

<p>I think there's room for improvement to detect bandwidth / CPU caps of current device and choose correct setting before calls.</p>

<p>Would be awesome to have variable bitrate too, but this would imply more modification in pjmedia (and in ffmpeg codec to restart it when required by rtcp bitrate changes detection).
But that's another topic I have to keep in mind some time before actually implementing ;).</p>

<p>About 2.2 I didn't had time to test yet. I guess can be postponed for a little while : there's probably not too many devices not updated to more recent version with a front cam and good cpu. My next step will probably be to have h264 hardware coder used and libvpx.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Fixed</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>