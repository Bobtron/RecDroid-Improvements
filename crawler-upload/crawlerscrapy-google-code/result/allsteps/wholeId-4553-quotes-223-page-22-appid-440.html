https://code.google.com/archive/p/csipsimple/issues/297<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #297</h1>
            <p class="ng-binding">Unable to download device dependant portion of software</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Grumpy Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p><b>What steps will reproduce the problem?</b>
1.Launch CSipSimple
<b>2.</b>
<b>3.</b></p>

<p><b>What is the expected output? What do you see instead?</b>
I would expect it to go on to the SIP Account Configuration.
Instead I get an error. (Download error, Check your connection and retry)
Also a different error pops up in the background too quick to read the whole thing but says something about a file number.</p>

<p>I have tried this while connected through 3G and also WiFi with the same result. Pretty sure my connection is good.</p>

<p><b>What version of the product are you using? On what operating system?</b>
Using latest version from Market and running on Motorola Droid with Android 2.2 OS.</p>

<p><b>Please provide any additional information below.</b></p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Is it after an upgrade or just a fresh install?
And another question does it download something (if so, you should see the progress bar becoming yellow and progressing).
Well, if you experiment issue even after a fresh install. </p>

<p>What could be cool would be to send me logs (to allow me to debug the problem and solve it for other users). 
Just install LogCollector, try to launch csipsimple (it should could produce some interesting logs for me), and then launch logcollector and send me logs (r3gis.3R at gmail dot com).</p>

<p>Then if you want to try the app (hope you're not afraid about the first bug ;) and still want to try it ). You can uninstall it, and download a dev version.</p>

<p><a href="http://code.google.com/p/csipsimple/downloads/detail?name=CSipSimple_0.00-15-01.apk">http://code.google.com/p/csipsimple/downloads/detail?name=CSipSimple_0.00-15-01.apk</a>
This ones (with a version 0.00-xx-xx) already has the files specific to all devices. It's 1/3 bigger but contains two version of the native sip stack, one of the two files will work on Droid so will be ok. Just remember to uninstall the market version before installing this one (production versions and development versions are not compatible together -- at least for now, I'm fixing the problem for next versions).</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Grumpy Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>It is right after a fresh install. It doesn't download anything. Just sits there
at 0% then gives me the error after about 30 to 60 seconds. I did remove and
re-install the app to see if that would help but it didn't.</p>

<p>I will see if I can get some logs for you.</p>

<p>I'll try a dev version too and see if that works.</p>

<p>Thanks!</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Grumpy Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok, my log is huge so I copied out the section that appears to apply to CSipSimple.
If you need more I can post the rest or maybe email it to you.</p>

<p>Here it is.</p>

<p>10-22 13:08:23.294 E/DownloadLibService( 2082): RuntimeEx while downloading file
10-22 13:08:23.294 E/DownloadLibService( 2082): java.lang.NullPointerException
10-22 13:08:23.294 E/DownloadLibService( 2082): at com.csipsimple.service.DownloadLibService.downloadFile(DownloadLibService.java:292)
10-22 13:08:23.294 E/DownloadLibService( 2082): at com.csipsimple.service.DownloadLibService.checkForConnectionAndDownload(DownloadLibService.java:213)
10-22 13:08:23.294 E/DownloadLibService( 2082): at com.csipsimple.service.DownloadLibService.access$1(DownloadLibService.java:192)
10-22 13:08:23.294 E/DownloadLibService( 2082): at com.csipsimple.service.DownloadLibService$1.startDownload(DownloadLibService.java:97)
10-22 13:08:23.294 E/DownloadLibService( 2082): at com.csipsimple.ui.WelcomeScreen$1$1.run(WelcomeScreen.java:243)
10-22 13:08:23.302 D/WifiService( 1095): releaseWifiLockLocked: WifiLock{com.csipsimple.service.DownloadLibService type=1 binder=android.os.BinderProxy@44fbe6e8}</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #4</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Grumpy Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Here's some more I found in a second log capture.</p>

<p>10-22 13:18:36.680 I/ActivityManager( 1095): Start proc com.csipsimple for broadcast com.csipsimple/.service.DeviceStateReceiver: pid=1880 uid=10098 gids={3003, 3002, 1015}</p>

<p>10-22 13:18:46.875 W/PackageManager( 1095): Unknown permission android.permission.RAISED_THREAD_PRIORITY in package com.csipsimple</p>

<p>10-22 13:18:58.711 I/ActivityManager( 1095): No longer want com.csipsimple (pid 1880): hidden #16</p>

<p>10-22 13:19:03.899 I/ActivityManager( 1095): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.csipsimple/.ui.SipHome }
10-22 13:19:04.188 I/ActivityManager( 1095): Start proc com.csipsimple for activity com.csipsimple/.ui.SipHome: pid=2031 uid=10098 gids={3003, 3002, 1015}
10-22 13:19:04.703 W/ResourceType( 1095): Skipping entry 0x7f040007 in package table 0 because it is not complex!
10-22 13:19:04.828 W/ResourceType( 1095): Skipping entry 0x7f040008 in package table 0 because it is not complex!
10-22 13:19:05.430 D/dalvikvm( 1095): GC_EXPLICIT freed 18712 objects / 968024 bytes in 153ms
10-22 13:19:05.430 I/ActivityManager( 1095): Starting activity: Intent { flg=0x10000000 cmp=com.csipsimple/.ui.WelcomeScreen (has extras) }
10-22 13:19:06.906 D/dalvikvm( 1484): GC_FOR_MALLOC freed 8363 objects / 477200 bytes in 202ms
10-22 13:19:07.336 D/NativeCrypto( 1484): Freeing OpenSSL session
10-22 13:19:07.586 I/ActivityManager( 1095): Displayed activity com.csipsimple/.ui.WelcomeScreen: 2129 ms (total 3413 ms)
10-22 13:19:07.617 D/NativeCrypto( 1484): Freeing OpenSSL session
10-22 13:19:07.625 D/NativeCrypto( 1484): Freeing OpenSSL session
10-22 13:19:08.047 D/dalvikvm( 2031): GC_FOR_MALLOC freed 3177 objects / 213400 bytes in 115ms
10-22 13:19:08.586 D/WifiService( 1095): acquireWifiLockLocked: WifiLock{com.csipsimple.service.DownloadLibService type=1 binder=android.os.BinderProxy@450c5668}</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #5</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok ! Thanks a lot for logs. I fix it right now in the code. 
For the first one at least, second log is normal : the RAISED_THREAD_PRIORITY permission is ignored by most devices, but needed for some (it doesn't affect device on which the permission is not needed to raise thread priorities).</p>

<p>However the first log is more annoying : it seems that it get an empty md5 checksum. And I didn't managed this case previously (now will be done, I'll just ignore the error and let you continue trying to download the lib... hoping the lib will not be empty stream too..... ) . So thanks a lot for this log, my code will be more robust regarding this kind of failure. However I don't know really why it appear on your phone... maybe googlecode server is not enough responsive or is overloaded... as you keep reproducing probably not the reason... That's a little bit mysterious.</p>

<p>Another thing that is a little bit strange is this log :
I/ActivityManager( 1095): No longer want com.csipsimple (pid 1880): hidden #16 (on your second log).</p>

<p>Are you running a custom ROM with a feature that limit number of concurrent activities?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #6</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Grumpy Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>No problem. Glad the logs could help.</p>

<p>I did download the dev version and it appears to work just fine.
Not sure what the download issue is. For some reason I was not able
to download the dev version through my phone's browser either. Strange
thing is that I can download files from other sites just fine so it almost
seems specific to Google.</p>

<p>I am actually running a custom rom. I couldn't tell you how it 
manages activities or if it's limiting them. </p>

<p>The ROM I am using is Ultimate Droid 1.0.0. </p>

<p>Sorry if that is the root of the problem here.
I am sure it is hard enough to support stock devices
let alone having to worry about people running custom 
roms and stuff.</p>

<p>Thanks a bunch for your help.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #7</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 22, 2010 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok,
Each feedback is welcome. And your one is really valuable since it underline a lack of robustness on my code. So many thanks :) !</p>

<p>As you can't download using browser it's consistent with the fact CSipSimple fails to download the lib and it's probably not directly linked to csipsimple. 
In the future I'd like to add mirrors sites. It's never a good thing to rely on only one website but coding mirroring is a big task and for now I prefer focusing on sip features ;).</p>

<p>Just a though about the fact you can't download on google code, it could be something with cookies. 
I recently had this kind of problem with google on my firefox 4 minefield (that didn't clean cookies well) : if cookies are too longs, google becomes unresponsive. But I'm not sure that's the reason cause if so it would mean that the application share its cookies with the standard browser (which would be really strange in term of security...). Well that's just a though that's maybe something completely different... But pleased that you succeed in downloading and installing the app.</p>

<p>Don't hesitate to report bug if you found any. 
I consider that custom ROMs should be treated as if it was stock ones. I'm really attached to open and "libre" software distribution... and not always pleased with the not ethic way some carriers and some manufacturer distributes the stock ROM and their devices. 
The only way to make Android really open and with an ethic and open distribution is to encourage users to use custom and fully opensource ROM  and to decrease the lead google has on the project. (I've nothing against google, but for me choice is freedom).
Besides, most of the time these ROM creators are more reactive to bugs and most of the time custom ROMs are more consistent regarding android APIs than the official ROM. 
So for openness of the android platform I should pay more attention to custom roms than to stock ones. I admit that pragmatically I sometimes do my priorities regarding the number of users affected, but that's just for priorities. </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">NextRelease</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>