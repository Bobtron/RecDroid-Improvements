https://code.google.com/archive/p/csipsimple/issues/2421<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #2421</h1>
            <p class="ng-binding">Opus codec not used CSIPSimple &lt;-&gt; Asterisk (although asterisk patched and works with phonerlite!)</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jun 30, 2013 by
                  <i class="ng-binding">Swift Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p><b>What steps will reproduce the problem?</b>
1. Doing a phone call with the new Asterisk Opus implementation</p>

<p><b>What is the expected output? What do you see instead?</b>
CSIPSimple uses Opus codec</p>

<p><b>What version of the product are you using? On what device / operating</b>
<b>system?</b>
Just downloaded nightly build as of 1st June 2013</p>

<p>It seems like CSIPSimple cannot handle the asterisk SDP answer: opus/48000/2, because it just ignores this line...
Is it possible to fix that?</p>

<p><b>Please provide any additional information below.</b>
The SIP Log:
----------------- CSIPSimple invite: ------------------
INVITE sip:600@&lt;del&gt; SIP/2.0.
Via: SIP/2.0/UDP &lt;del&gt;;rport;branch=z9hG4bKPjaJWQg6EMKghnLJ7st56b3B27PuIUrd-x.
Max-Forwards: 70.
From: "&lt;del&gt;" &lt;sip:103@&lt;del&gt;&gt;;tag=dGEJTw3qKc6oPiROG4Q5.Zy6Qc2mSEHN.
To: &lt;sip:600@&lt;del&gt;&gt;.
Contact: &lt;sip:103@&lt;del&gt;:10660;ob&gt;.
Call-ID: lA-jOeHZHVi8B5tpE4I.JQuxjTV9lIWg.
CSeq: 31313 INVITE.
Allow: PRACK, INVITE, ACK, BYE, CANCEL, UPDATE, INFO, SUBSCRIBE, NOTIFY, REFER, MESSAGE, OPTIONS.
Supported: replaces, 100rel, timer, norefersub.
Session-Expires: 1800.
Min-SE: 90.
User-Agent: CSipSimple_hwu8950N-51-15/r2264.
Content-Type: application/sdp.
Content-Length:   428.
.
v=0.
o=- 3581647235 3581647235 IN IP4 &lt;del&gt;.
s=pjmedia.
c=IN IP4 &lt;del&gt;.
t=0 0.
m=audio 12316 RTP/AVP 111 9 106 8 0 105 3 101.
c=IN IP4 &lt;del&gt;.
a=rtcp:12317 IN IP4 &lt;del&gt;.
a=sendrecv.
a=rtpmap:111 opus/48000.
a=rtpmap:9 G722/8000.
a=rtpmap:106 speex/16000.
a=rtpmap:8 PCMA/8000.
a=rtpmap:0 PCMU/8000.
a=rtpmap:105 speex/8000.
a=rtpmap:3 GSM/8000.
a=rtpmap:101 telephone-event/8000.
a=fmtp:101 0-15.</p>

<p>--end msg--
---------Asterisk Trying ----------
---------Asterisk Answer ----------
&lt;header&gt;
v=0.
o=root 1900207864 1900207864 IN IP4 &lt;del&gt;.
s=Asterisk PBX SVN-branch-11-r392810M.
c=IN IP4 &lt;del&gt;.
t=0 0.
m=audio 10010 RTP/AVP 111 9 106 8 0 105 3 101.
a=rtpmap:111 opus/48000/2.
a=maxptime:60.
a=fmtp:111 maxplaybackrate=16000; stereo=0; sprop-stereo=0; useinbandfec=0.
a=rtpmap:9 G722/8000.
a=rtpmap:106 speex/16000.
a=rtpmap:8 PCMA/8000.
a=rtpmap:0 PCMU/8000.
a=rtpmap:105 speex/8000.
a=rtpmap:3 GSM/8000.
a=rtpmap:101 telephone-event/8000.
a=fmtp:101 0-16.
a=ptime:20.
a=ice-ufrag:3ccd1f6f333bd68d7395b0f125eeaa6c.
a=ice-pwd:699d06c91d16d7e77cf11a917c397881.
a=candidate:H7f000002 1 UDP 2130706431 127.0.0.2 10010 typ host.
a=candidate:H6704137c 1 UDP 2130706431 &lt;del&gt; 10010 typ host.
a=candidate:H7f000002 2 UDP 2130706430 127.0.0.2 10011 typ host.
a=candidate:H6704137c 2 UDP 2130706430 &lt;del&gt; 10011 typ host.
a=sendrecv.</p>

<p>--end msg--
-------------------------PJSIP Log after that ------------------------------------
16:00:36.499 mobile_reg_han  .mod_reg_tracker_on_rx_response
16:00:36.499 mobile_reg_han  .mod_reg_tracker_on_rx_response done
16:00:36.500   tsx0x1fa7994  .Incoming Response msg 200/INVITE/cseq=31313 (rdata0x1d4d004) in state Proceeding
16:00:36.500 timer_android.  ..Ask to cancel something already fired or cancelled : -1
16:00:36.500   tsx0x1fa7994  ..State changed from Proceeding to Terminated, event=RX_MSG
16:00:36.500   dlg0x1f454cc  ...Received Response msg 200/INVITE/cseq=31313 (rdata0x1d4d004)
16:00:36.500   dlg0x1f454cc  ....Route-set updated
16:00:36.500   dlg0x1f454cc  ....Route-set frozen
16:00:36.500   dlg0x1f454cc  ...Transaction tsx0x1fa7994 state changed to Terminated
16:00:36.500 timer_android.  ....Scheduling timer 2 of 4 in 1768000 ms @ 0x1faa2e0
16:00:36.509 pjsua_jni_addo  .....Call 2 state changed to CONNECTING
16:00:36.518 zrtp_android.c  .....jzrtp_getInfoFromContext : user data 0
16:00:36.523   inv0x1f454cc  ....Got SDP answer in Response msg 200/INVITE/cseq=31313 (rdata0x1d4d004)
16:00:36.524   inv0x1f454cc  ....SDP negotiation done, status=0
16:00:36.524  pjsua_media.c  .....Call 2: updating media..
16:00:36.524    pjsua_aud.c  ......Audio channel update..
16:00:36.525          rtp.c  .......pjmedia_rtp_session_init: ses=0x1d76678, default_pt=9, ssrc=0x784785bd
16:00:36.525          rtp.c  .......pjmedia_rtp_session_init: ses=0x1d0d3e8, default_pt=9, ssrc=0x784785bd
16:00:36.525   udp0x1ede8b0  .......SO_RCVBUF set to 110592
16:00:36.525   udp0x1ede8b0  .......SO_SNDBUF set to 110592
16:00:36.532       stream.c  .......Stream strm0x1f5dc34 created
16:00:36.532  strm0x1f5dc34  .......Encoder stream started
16:00:36.532  strm0x1f5dc34  .......Decoder stream started
16:00:36.538  pjsua_media.c  ......Audio updated, stream #0: G722 (sendrecv)
16:00:36.539 timer_android.  .....Scheduling timer 4 of 4 in 0 ms @ 0x514aa214
16:00:36.546  strm0x1f5dc34 !Start talksprut..
16:00:36.571 pjsua_jni_addo !.....Get secure for media type 1
16:00:36.571 zrtp_android.c  .....jzrtp_getInfoFromContext : user data 0
16:00:36.572    pjsua_aud.c  .....Conf connect: 2 --&gt; 0
16:00:36.572   conference.c  ......Port 2 (sip:600@&lt;del&gt;) transmitting to port 0 (OpenSL ES Audio)
16:00:36.572    pjsua_aud.c  .....Conf connect: 0 --&gt; 2
16:00:36.572   conference.c  ......Port 0 (OpenSL ES Audio) transmitting to port 2 (sip:600@&lt;del&gt;)
16:00:36.586   inv0x1f454cc  ....Received Response msg 200/INVITE/cseq=31313 (rdata0x1d4d004), sending ACK
16:00:36.586       endpoint  ....Request msg ACK/cseq=31313 (tdta0x1d5de30) created.
16:00:36.586   dlg0x1f454cc  .....Sending Request msg ACK/cseq=31313 (tdta0x1d5de30)
16:00:36.586  sip_resolve.c  .....Target '&lt;del&gt;:5060' type=Unspecified resolved to '&lt;del&gt;:5060' type=UDP (UDP transport)</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jun 30, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>The opus support on csipsimple is still under development.
There is various things that doesn't work and the stereo support is one of those things.
As the asterisk sends the SDP with opus/48000/2 (which is correct regarding latest rfc of opus) and csipsimple for now only allows opus/48000/1 (which is not valid anymore since a recent change (the version 2) of the opus RFC).</p>

<p>However, it's not obvious to fix in the pjsip integration of opus codec because opus sdp rfc completely break the pjsip approach as they declare things in the sdp that can't be used for the media layer : for example it declares 48kHz while the actual clock rate could (and should) be different and it declares stereo while the actual stream will be mono (all the more so as there is an additional option in the sdp to tell it will be mono).
This new and very weird approach in opus specification is something that make it very hard to integrate in pjsip. Pjsip is designed to make easy codecs integration provided the fact the codec specification makes things a regular way (that was adopted by all other codecs I know), but it becomes very complicate if the codec specification completely break what was usually done. However, it's not a critism against opus, they introduce new concepts in the codec world (such as dynamic clockrate and dynamic stereo support) and that's the reason why their specs are different.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jun 30, 2013 by
                  <i class="ng-binding">Swift Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>... O.K.? What does that answer tell me?
1st: You (and/or the PJSip developers) are working on that issue.
2nd: It's not easy to fix
3rd: it's not a CSIPSimple Bug but more of a "Features to support in the future" thing?
(Correct me if you wanted to tell something else in your Mail.)</p>

<p>... I know, that the asterisk Opus implementation is dodgy as well, as far as I understood the developer, the code tells Opus to stream everything with 48000/2 into asterisk no matter what it receives, so if the original signal is a 8000/1 opus is converting that internally. - I don't know if that helps you.
I don't thing the Asterisk-Opus integration is very good, so ... is there a chance to tell CSIPSimple to ignore the 48000/2 setting and assume a 48000 only, and see what happens with the asterisk implementation, or do you think this will break everything?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jul 1, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>1 &amp; 2 =&gt;Yes
3 =&gt; It's actually a bug in the integration of opus. But this integration is not claimed to be finalized yet. The codec is for now in the codec pack that contains only obsolete codecs or codecs under development. So : it's a bug in some feature not yet fully supported. It's the same than bugs on the video feature ;).</p>

<p>About the fact asterisks reply with 48000/2 (whatever it does internally), it's absolutely correct regarding the Opus RFC specification. 
It's the opus specification that is weird... but it defines things this way ;). And that's what is very hard to manage on pjsip side that internally initiate things to handle 48kHz stereo audio buffers while these buffers should be different internally. And indeed if it were possible to ignore that... would already have been solved ;). But it's the point that is not easy to solve by ignoring that without adding a lot of patches in pjsip (at least I didn't found an elegant solution yet).</p>

<p>For reference the opus rtp payload spec and the part telling it should be announced 48000/2 : 
<a href="http://tools.ietf.org/html/draft-spittka-payload-rtp-opus-03#section-6.2">http://tools.ietf.org/html/draft-spittka-payload-rtp-opus-03#section-6.2</a>
(the section 6.2 was modified in version 2 that is more recent than the last time I worked on the opus feature -- that's the reason why it's not yet taken into account)</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #4</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Aug 12, 2013 by
                  <i class="ng-binding">Quick Panda</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Hello, Regis! Is opus actually doesn't work now? Can I integrate it in my CSipSimple custom distribution?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #5</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Aug 20, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Issue 2467 has been merged into this issue.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #6</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Aug 20, 2013 by
                  <i class="ng-binding">Swift Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I tweaked the asterisk implementation and set asterisk to send an opus/48000 only. It works fine except a little scratch at the beginning of the call but that's a known problem.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #7</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Aug 22, 2013 by
                  <i class="ng-binding">Swift Horse</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>care to share your changes to opus asterisk implementation ? </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #8</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Aug 22, 2013 by
                  <i class="ng-binding">Swift Lion</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>... O.K. Step by step
1) Get the asterisk code (I am using svn checkout)
2) Get the opus libraries, compile and install (See opus homepage)
3) Get the asterisk-opus patch: git://github.com/meetecho/asterisk-opus.git
4) Patch asterisk according to the documentation in asterisk-opus
5) Run bootstrap.sh in the asterisk src-directory
6) Now edit /chan/chan_sip.c
Look for the following code and fix it like shown below: (remove the "/2") that's it!
/* Opus, pass parameters we care about (FIXME could this be 'fb' and not 'wb'?) <em>/
        case AST_FORMAT_OPUS:
                ast_str_append(a_buf, 0, "a=maxptime:%d\r\n", 60);      /</em> FIXME */
7) do ./configure, make menuconfig, make, make install
8) edit your sip.conf to enable opus (according to the asterisk-opus do...)
Please let me know if that helped, thanks.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #9</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Sep 3, 2013 by
                  <i class="ng-binding">Quick Elephant</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Jitsi 2.3 nightly has now changed to the newer 2 channel spec since build 4811 <a href="https://download.jitsi.org/jitsi/nightly/windows/updates/index.html">https://download.jitsi.org/jitsi/nightly/windows/updates/index.html</a> . Calls with opus are now not possible between csipsimple and Jitsi. We need a csipsimple fix to make this 2 channel as from now on opus in csipsimple is obsolete. The good news is that the codec is correctly skipped so enabling SILK 24 as lower priority codec is a good workaround until a fix is available.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #10</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Sep 14, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content -->
              <!-- ngIf: !comment.content --><span ng-if="!comment.content" class="ng-scope">
                <p><em>(No comment was entered for this change.)</em></p>
              </span><!-- end ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #11</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 1, 2015 by
                  <i class="ng-binding">Swift Elephant</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Hello,
Is there any instruction how to use "opus/48000/2" in csipsimple android (for webrtc(chrome) calls)?
Thanks</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Duplicate</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>