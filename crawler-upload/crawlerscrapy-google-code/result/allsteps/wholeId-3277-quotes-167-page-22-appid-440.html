https://code.google.com/archive/p/csipsimple/issues/1501<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #1501</h1>
            <p class="ng-binding">SIP 200OK response not rejecting video session when video is disabled</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p><b>What steps will reproduce the problem?</b>
1. Install r1205 nightly build
2. Install video plugin
3. In settings | call options, leave "Use Video" unchecked to disable video
4. From another video phone, call the android device and answer the call so that a 200OK is generated by pjsip</p>

<p><b>What is the expected output? What do you see instead?</b></p>

<p>The 200OK response that pjsip generates should reject the video session (since video is disabled in call options) by setting the port to 0 per section 6 of RFC3264. Right now pjsip sends a 200OK back with something like:</p>

<p>m=video 1024 RTP/AVP</p>

<p>which is not rejecting the video stream session. It should be set to:</p>

<p>m=video 0 RTP/AVP</p>

<p><b>What version of the product are you using? On what operating system?</b></p>

<p>r1205 nightly build / Samsung Galaxy tab</p>

<p><b>Please provide any additional information below.</b></p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 15, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Ok,
Maybe I don't use correctly use the answer feature.
Normally r1204 changes are intended to tell pjsip to reply without video. But maybe I'm wrong or maybe it's a bug on pjsip side.</p>

<p>I'll try to do more test and let you know if it's something to report to pjsip guys or something on csipsimple side. Since I saw a commit in pjsip relatively recently about replying with "video 0" I think that they did something on their side to manage this. But maybe incomplete. Indeed, in our case, if video is disabled, CSipSimple will not load ffmpeg codecs (and video devices). As consequence we are in a case that is probably not very often tested by pjsip guys : For example there is some annoying assert which force me to switch to release mode in nightlies because locally generated sdp does not contains any video codec.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>That's very weird because I've just done some tests and I can observe a correct reply from csipsimple :</p>

<p>01-16 13:26:49.121: D/libpjsip(10402): SIP/2.0 200 OK
01-16 13:26:49.121: D/libpjsip(10402): v: SIP/2.0/UDP 172.20.254.77:5060;rport=5060;received=172.20.254.77;branch=z9hG4bKPj33fe8d11-d894-4036-a35f-db536ff69e4b
01-16 13:26:49.121: D/libpjsip(10402): i: 7fe2a475-48b5-4422-b75d-3eaaceac1450
01-16 13:26:49.121: D/libpjsip(10402): f: ;tag=46020b9e-3386-4d7e-8d44-06aa0b459bd6
01-16 13:26:49.121: D/libpjsip(10402): t: ;tag=.t1Y4S.zd-7LJaJcR9IJmjxJUnbUSfhP
01-16 13:26:49.121: D/libpjsip(10402): CSeq: 6917 INVITE
01-16 13:26:49.121: D/libpjsip(10402): m: 
01-16 13:26:49.121: D/libpjsip(10402): k: replaces, 100rel, timer, norefersub
01-16 13:26:49.121: D/libpjsip(10402): x: 1800;refresher=uac
01-16 13:26:49.121: D/libpjsip(10402): c: application/sdp
01-16 13:26:49.121: D/libpjsip(10402): l:   298
01-16 13:26:49.121: D/libpjsip(10402): 
01-16 13:26:49.121: D/libpjsip(10402): v=0
01-16 13:26:49.121: D/libpjsip(10402): o=- 3535705606 3535705608 IN IP4 172.20.254.14
01-16 13:26:49.121: D/libpjsip(10402): s=pjmedia
01-16 13:26:49.121: D/libpjsip(10402): c=IN IP4 172.20.254.14
01-16 13:26:49.121: D/libpjsip(10402): t=0 0
01-16 13:26:49.121: D/libpjsip(10402): a=X-nat:0
01-16 13:26:49.121: D/libpjsip(10402): m=audio 40002 RTP/AVP 0 96
01-16 13:26:49.121: D/libpjsip(10402): c=IN IP4 172.20.254.14
01-16 13:26:49.121: D/libpjsip(10402): a=rtcp:40003 IN IP4 172.20.254.14
01-16 13:26:49.121: D/libpjsip(10402): a=sendrecv
01-16 13:26:49.121: D/libpjsip(10402): a=rtpmap:96 telephone-event/8000
01-16 13:26:49.121: D/libpjsip(10402): a=fmtp:96 0-15
01-16 13:26:49.121: D/libpjsip(10402): m=video 0 RTP/AVP
01-16 13:26:49.121: D/libpjsip(10402): c=IN IP4 172.20.254.14
01-16 13:26:49.121: D/libpjsip(10402): --end msg--</p>

<p>It seems correct.
Can you try to collect logs and send it to me. There's maybe something linked to my configuration : for now I do only peer to peer calls, but it should be the same for hosted accounts.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Attached are two log files because for some reason the SIP messages in my logcat output are truncated. So I did a SIP message capture on our SIP router to see the complete SDP.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1501/comment-3/samsung-galaxy.log.gz" class="ng-binding">
                    samsung-galaxy.log.gz
                  </a> 6.99KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1501/comment-3/sip.log.gz" class="ng-binding">
                    sip.log.gz
                  </a> 1.57KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #4</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Yes great idea to get complete logs from router. </p>

<p>I'll try to dive into pjsip code to see if there is something I missed or if that's a buggy case they didn't tested yet.</p>

<p>Thx a lot for logs and tests. I'll keep you in touch</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #5</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I can also confirm that r1205 on my HTC Eris, running CyanogenMod 6, does
the same thing.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #6</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>It could be interesting if you have 2 android device to test with one with video enabled and the other without.
And see if you get same result.</p>

<p>When I make my tries I always try with pjsip stack talking to pjsip (it's pjsip on my PC but still pjsip). And maybe the fact that the SDP of your client is not formatted the same way could introduce some bug in pjsip.</p>

<p>For example I can see that your client does not repeat the connection information in video media. It's absolutely valid, but could introduce something in pjsip and could help to find clue to guide on where to search :). </p>

<p>Because without being able to reproduce it's very hard to debug since I can't add logs or breakpoint on place I suspect to be buggy. 
I tried to read the code and seems that there is things to set the port to 0 (I'm not so surprised because it works when I try here). But I have no clue on where it could fails in another configuration.
So if you can make this test it can help me to deduce how I should do to reproduce the issue here ;).</p>

<p>Thx</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #7</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 16, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Here is what I did. I have two android devices with r1205 installed. The one is an HTC Eris running CyanogenMod 6 with no video camera hardware. Therefore I did not bother to install the video plugin APK.</p>

<p>The other is my Samsung Galaxy Tab (Android 2.2) with the video plugin APK installed and video enabled in the call options settings.</p>

<p>Below are the SIP captures from my SIP router. I made two test calls. One from the HTC Eris and the other from the Samsung Galaxy.</p>

<p>Calling HTC Eris -&gt; Galaxy Tab looks correct because the HTC did not request a video session in the original INVITE. Therefore the 200OK reply from the Galaxy tab did not include m=video in the SDP.</p>

<p>Calling Galaxy Tab -&gt; HTC Eris does exhibit the problem as the HTC replies with an invalid 200OK SDP payload.</p>

<p>I can easily give you several SIP accounts on our SIP router if you need a live SIP router to test with. We would be more than happy to give these credentials to you for permanent use as we have long term plans for CSipSimple in our enterprise. Let me know if you want SIP accounts and how many you need and I'll send you a private message with the account information.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1501/comment-7/HTCEris-to-SamsungGalaxyTab.log.gz" class="ng-binding">
                    HTCEris-to-SamsungGalaxyTab.log.gz
                  </a> 1.59KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/csipsimple/issue-1501/comment-7/SamsungGalaxyTab-to-HTCEris.log.gz" class="ng-binding">
                    SamsungGalaxyTab-to-HTCEris.log.gz
                  </a> 1.64KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #8</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 17, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>So I did some additional testing today to find out if my Ojo video phone's INVITE was somehow causing pjsip to not properly reject the video media session. It seems like the problem surfaces when using a SIP router. Doing peer dialing seems to work properly, which confirms what you previously posted.</p>

<h1>Test 1:</h1>

<ol>
<li><p>On my Ubuntu workstation I installed pjsip trunk (r3943) and built it. When 
I compiled it I made sure that video was enabled by adding the following to
/pjlib/include/pj/config_site.h:</p>

<h1>define PJMEDIA_HAS_VIDEO 1</h1>

<p>NOTE: My linux workstation does not have any video hardware.</p></li>
<li><p>Launched pjsip-apps/bin/pjsua-i686-pc-linux-gnu and registered it
against our SIP router.</p></li>
<li><p>On my Samsung Galaxy Tab I enabled video calling in the call options</p></li>
<li><p>From my Samsung Galaxy Tab I called pjsip on my workstation</p></li>
</ol>

<h2>Outcome:</h2>

<p>pjsip on my workstation incorrectly rejected the video media session with:</p>

<p>m=video 1026 RTP/AVP 96</p>

<h1>Test 2:</h1>

<ol>
<li><p>On my Galaxy Tab I created a "local" SIP account</p></li>
<li><p>I left video enabled in the call options</p></li>
<li><p>I peer dialed my workstation</p></li>
</ol>

<h2>Outcome:</h2>

<p>pjsip on my workstation correctly rejected the video media session with:</p>

<p>m=video 0 RTP/AVP 96</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #9</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Jan 17, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Great thanks for this test. I think that I know where to look at now :</p>

<p>I guess that it's because of the ice/stun feature. 
Since in case of ice/stun pjsip may have to rewrite SDP in order to present to remote part the nat hole port to the remote side, they probably missed to do not rewrite in case the port is 0.
I'll do further investigation to see if I can't directly propose a patch about that, but sounds something solid we could raise to pjsip project.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #10</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Sep 15, 2012 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I think it has been fixed in pjsip project.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #11</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 6, 2012 by
                  <i class="ng-binding">Helpful Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I have confirmed that this has been fixed. Thanks!</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Fixed</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>