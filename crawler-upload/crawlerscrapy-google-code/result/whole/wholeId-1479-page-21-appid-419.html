https://code.google.com/archive/p/vogar/issues/59<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/vogar/">Project</a>
    </li>
    <li>
      <a href="/archive/p/vogar/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/vogar/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/vogar/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/vogar/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=vogar">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/vogar/logo.png">
            <h1 class="ng-binding">vogar - issue #59</h1>
            <p class="ng-binding">Caliper current version is not compatible with vogar current version</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Apr 16, 2013 by
                  <i class="ng-binding">Swift Cat</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Trying to run one of the caliper tests, I have a problems since files are moved and changed from interfaces to abstract classes.</p>

<p><b>What steps will reproduce the problem?</b>
1. Try to run any tests with the current caliper version, and the versions don't seem to be compatible.</p>

<p><b>What is the expected output? What do you see instead?</b>
Problems compiling the bencharmks</p>

<p><b>What version of the product are you using? On what operating system?</b>
r289 on Linux</p>

<p><b>Please provide any additional information below.</b>
In order to fix the problem, you need to include a new build of caliper.jar, gson (since it is not included in caliper) and patch the version with the current change:</p>

<h1>Index: build.xml</h1>

<p>--- build.xml   (revision 289)
+++ build.xml   (working copy)
@@ -14,12 +14,14 @@
     &lt;property name="kxml2" value="lib/kxml-libcore-20110123.jar"/&gt;
     &lt;property name="android" value="${android.platform.dir}/android.jar"/&gt;
     &lt;property name="mockito" value="lib/mockito-all-1.8.5.jar"/&gt;
+    &lt;property name="gson" value="lib/gson-1.7.1.jar"/&gt;</p>

<pre><code> &amp;lt;path id=&amp;quot;dependencies&amp;quot;&amp;gt;
     &amp;lt;pathelement location=&amp;quot;${caliper}&amp;quot;/&amp;gt;
     &amp;lt;pathelement location=&amp;quot;${guava}&amp;quot;/&amp;gt;
     &amp;lt;pathelement location=&amp;quot;${kxml2}&amp;quot;/&amp;gt;
     &amp;lt;pathelement location=&amp;quot;${android}&amp;quot;/&amp;gt;
</code></pre>

<p>+        &lt;pathelement location="${gson}"/&gt;
     &lt;/path&gt;</p>

<pre><code> &amp;lt;target name=&amp;quot;compile&amp;quot;
</code></pre>

<p>@@ -47,6 +49,7 @@
             &lt;zipfileset src="${caliper}"/&gt;
             &lt;zipfileset src="${guava}"/&gt;
             &lt;zipfileset src="${kxml2}"/&gt;
+            &lt;zipfileset src="${gson}"/&gt;
             &lt;fileset dir="src"&gt;
                 &lt;exclude name="**/*.java"/&gt;
             &lt;/fileset&gt;</p>

<h1>Index: lib/caliper.jar</h1>

<p>Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream</p>

<h1>Index: src/vogar/monitor/HostMonitor.java</h1>

<p>--- src/vogar/monitor/HostMonitor.java  (revision 289)
+++ src/vogar/monitor/HostMonitor.java  (working copy)
@@ -16,9 +16,10 @@</p>

<p>package vogar.monitor;</p>

<p>-import com.google.caliper.InterleavedReader;
-import com.google.caliper.internal.gson.JsonElement;
-import com.google.caliper.internal.gson.JsonObject;
+import com.google.caliper.util.InterleavedReader;
+import com.google.gson.JsonElement;
+import com.google.gson.JsonObject;
+
 import java.io.BufferedInputStream;
 import java.io.IOException;
 import java.io.InputStream;</p>

<h1>Index: src/vogar/monitor/TargetMonitor.java</h1>

<p>--- src/vogar/monitor/TargetMonitor.java    (revision 289)
+++ src/vogar/monitor/TargetMonitor.java    (working copy)
@@ -16,8 +16,9 @@</p>

<p>package vogar.monitor;</p>

<p>-import com.google.caliper.internal.gson.Gson;
-import com.google.caliper.internal.gson.JsonObject;
+import com.google.gson.Gson;
+import com.google.gson.JsonObject;
+
 import java.io.IOException;
 import java.io.PrintStream;
 import java.net.ServerSocket;</p>

<h1>Index: src/vogar/OutcomeStore.java</h1>

<p>--- src/vogar/OutcomeStore.java (revision 289)
+++ src/vogar/OutcomeStore.java (working copy)
@@ -16,8 +16,10 @@</p>

<p>package vogar;</p>

<p>-import com.google.caliper.internal.gson.stream.JsonReader;
-import com.google.caliper.internal.gson.stream.JsonWriter;
+
+import com.google.gson.stream.JsonReader;
+import com.google.gson.stream.JsonWriter;
+
 import java.io.File;
 import java.io.FileReader;
 import java.io.FileWriter;</p>

<h1>Index: src/vogar/ExpectationStore.java</h1>

<p>--- src/vogar/ExpectationStore.java (revision 289)
+++ src/vogar/ExpectationStore.java (working copy)
@@ -16,10 +16,11 @@</p>

<p>package vogar;</p>

<p>-import com.google.caliper.internal.gson.stream.JsonReader;
 import com.google.common.base.Joiner;
 import com.google.common.base.Splitter;
 import com.google.common.collect.Iterables;
+import com.google.gson.stream.JsonReader;
+
 import java.io.File;
 import java.io.FileReader;
 import java.io.IOException;</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Apr 25, 2013 by
                  <i class="ng-binding">Helpful Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>what's the plan? do we need to change the libcore benchmarks to work with the current caliper?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Apr 25, 2013 by
                  <i class="ng-binding">Helpful Kangaroo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>short term we were happy to stick with what we have. I know you always are more interested with the latest greatest caliper features, but we are fine with just getting the numbers we have today.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Apr 25, 2013 by
                  <i class="ng-binding">Massive Bear</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Yeah, the new Caliper is actually quite different from the version in Vogar. Most importantly it turns on verbose logging from the JVM and knows how to parse the compilation logs. Making that work in Dalvik will take some time.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">New</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>