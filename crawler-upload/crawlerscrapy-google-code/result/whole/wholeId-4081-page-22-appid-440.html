https://code.google.com/archive/p/csipsimple/issues/727<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #727</h1>
            <p class="ng-binding">r656-ginger: immediate crash when creating audio stream</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Feb 19, 2011 by
                  <i class="ng-binding">Happy Rhino</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>This is the first of the ginger builds I've tried (upgrade from r619, Android 2.3.2) and it's unusable due to an immediate crash on trying to place a call:</p>

<p>E/PjService(17517): Set log level to 1
D/dalvikvm(17517): GC_CONCURRENT freed 260K, 50% free 3009K/5959K, external 505K/512K, paused 7ms+12ms
I/ActivityManager(  150): Displayed com.csipsimple/.ui.SipHome: +2s88ms
D/dalvikvm(17517): GC_EXTERNAL_ALLOC freed 94K, 51% free 2966K/5959K, external 497K/512K, paused 74ms
D/dalvikvm(16838): GC_EXPLICIT freed 238K, 57% free 2680K/6215K, external 0K/512K, paused 89ms
E/dalvikvm(17517): Class lookup Ljava/lang/NoSuchMethodError; attempted while exception Ljava/lang/NoSuchMethodError; pending
I/dalvikvm(17517): DALVIK THREADS:
I/dalvikvm(17517): (mutexes: tll=0 tsl=0 tscl=0 ghl=0 hwl=0 hwll=0)
I/dalvikvm(17517): "main" prio=5 tid=1 RUNNABLE
I/dalvikvm(17517):   | group="main" sCount=0 dsCount=0 obj=0x400221a0 self=0xce40
I/dalvikvm(17517):   | sysTid=17517 nice=0 sched=0/0 cgrp=default handle=-1345006528
I/dalvikvm(17517):   | schedstat=( 3207550048 2060119627 999 )
I/dalvikvm(17517):   at android.text.DynamicLayout.&lt;init&gt;(DynamicLayout.java:~162)
I/dalvikvm(17517):   at android.widget.TextView.makeNewLayout(TextView.java:4998)
I/DEBUG   (17514): <strong>* <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> <em></em></strong><em> <strong></strong></em><strong> *</strong>
I/DEBUG   (17514): Build fingerprint: 'google/passion/passion/mahimahi:2.2.1/FRG83/60505:user/release-keys'
I/DEBUG   (17514): pid: 17517, tid: 17545  &gt;&gt;&gt; com.csipsimple &lt;&lt;&lt;
I/DEBUG   (17514): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000006
I/DEBUG   (17514):  r0 ffffffff  r1 41d7de58  r2 0000012d  r3 00000001
I/DEBUG   (17514):  r4 00000006  r5 00000004  r6 0000ce40  r7 41d7de6c
I/DEBUG   (17514):  r8 80b2f2e4  r9 00191a30  10 000000a4  fp 00000000
I/DEBUG   (17514):  ip 00000000  sp 43c4f300  lr afd11130  pc aca58d82  cpsr 80000030
E/PjService(17517): Set log level to 1
I/DEBUG   (17514):          #00  pc 00058d82  /system/lib/libdvm.so
I/DEBUG   (17514):          #01  pc 00058ff2  /system/lib/libdvm.so (dvmDumpThreadStack)
I/DEBUG   (17514):          #02  pc 0004d614  /system/lib/libdvm.so (dvmDumpThreadEx)
I/DEBUG   (17514):          #03  pc 0004db9e  /system/lib/libdvm.so (dvmDumpAllThreadsEx)
I/DEBUG   (17514):          #04  pc 0004dbdc  /system/lib/libdvm.so (dvmDumpAllThreads)
I/DEBUG   (17514):          #05  pc 00064732  /system/lib/libdvm.so
I/DEBUG   (17514):          #06  pc 000649d2  /system/lib/libdvm.so (dvmFindSystemClassNoInit)
I/DEBUG   (17514):          #07  pc 000649ea  /system/lib/libdvm.so (dvmFindSystemClass)
I/DEBUG   (17514):          #08  pc 0003f1ea  /system/lib/libdvm.so (dvmThrowChainedException)
I/DEBUG   (17514):          #09  pc 00046c5a  /system/lib/libdvm.so
I/DEBUG   (17514):          #10  pc 00046892  /data/data/com.csipsimple/lib/libpjsipjni.so
I/DEBUG   (17514):          #11  pc 00085b7c  /data/data/com.csipsimple/lib/libpjsipjni.so (pjmedia_aud_stream_create)
I/DEBUG   (17514):          #12  pc 0007cf78  /data/data/com.csipsimple/lib/libpjsipjni.so (pjmedia_snd_port_create2)
I/DEBUG   (17514):          #13  pc 000595ca  /data/data/com.csipsimple/lib/libpjsipjni.so
I/DEBUG   (17514):          #14  pc 00059940  /data/data/com.csipsimple/lib/libpjsipjni.so (pjsua_set_snd_dev)
I/DEBUG   (17514):          #15  pc 000512de  /data/data/com.csipsimple/lib/libpjsipjni.so (pjsua_call_make_call)
I/DEBUG   (17514):          #16  pc 00044574  /data/data/com.csipsimple/lib/libpjsipjni.so (Java_org_pjsip_pjsua_pjsuaJNI_call_1make_1call)
I/DEBUG   (17514):          #17  pc 00011d74  /system/lib/libdvm.so
I/DEBUG   (17514):
I/DEBUG   (17514): code around pc:
I/DEBUG   (17514): aca58d60 39141c39 688c9107 d1002c00 2b00e08a
I/DEBUG   (17514): aca58d70 2301d103 90054258 6a22e003 104d1a99
I/DEBUG   (17514): aca58d80 68259505 f7c069a8 6923eb02 9008930c
I/DEBUG   (17514): aca58d90 05c26860 4958d507 44799804 9b0c9a08
I/DEBUG   (17514): aca58da0 edeef7c0 1c20e022 f8f8f00c 900d9905
I/DEBUG   (17514):
I/DEBUG   (17514): code around lr:
I/DEBUG   (17514): afd11110 02800016 08bd87f0 e5964000 e5967000
I/DEBUG   (17514): afd11120 e2144903 1a00000e e5965000 ebffeda2
I/DEBUG   (17514): afd11130 e2055a02 e3853001 e1500003 0a000006
I/DEBUG   (17514): afd11140 e5865000 e1a00006 e1a01005 e3a02001
I/DEBUG   (17514): afd11150 ebfffeaa e1a00004 e8bd87f0 e3a00000
I/DEBUG   (17514):
I/DEBUG   (17514): stack:
I/DEBUG   (17514):     43c4f2c0  80b2f2e4
I/DEBUG   (17514):     43c4f2c4  00191a30
I/DEBUG   (17514):     43c4f2c8  000000a4
I/DEBUG   (17514):     43c4f2cc  afd13aa1  /system/lib/libc.so
I/DEBUG   (17514):     43c4f2d0  410af348
I/DEBUG   (17514):     43c4f2d4  41191218
I/DEBUG   (17514):     43c4f2d8  aca82e71  /system/lib/libdvm.so
I/DEBUG   (17514):     43c4f2dc  0000ce40
I/DEBUG   (17514):     43c4f2e0  410af348
I/DEBUG   (17514):     43c4f2e4  41191218
I/DEBUG   (17514):     43c4f2e8  aca82e71  /system/lib/libdvm.so
I/DEBUG   (17514):     43c4f2ec  0000ce40
I/DEBUG   (17514):     43c4f2f0  410af348
I/DEBUG   (17514):     43c4f2f4  afd14999  /system/lib/libc.so
I/DEBUG   (17514):     43c4f2f8  df002777
I/DEBUG   (17514):     43c4f2fc  e3a070ad
I/DEBUG   (17514): #00 43c4f300  420e2f86
I/DEBUG   (17514):     43c4f304  aca82e71  /system/lib/libdvm.so
I/DEBUG   (17514):     43c4f308  00001386
I/DEBUG   (17514):     43c4f30c  afd14373  /system/lib/libc.so
I/DEBUG   (17514):     43c4f310  43c4f43c
I/DEBUG   (17514):     43c4f314  ffffffff
I/DEBUG   (17514):     43c4f318  00000004
I/DEBUG   (17514):     43c4f31c  41d7de58
I/DEBUG   (17514):     43c4f320  0021c408
I/DEBUG   (17514):     43c4f324  00000000
I/DEBUG   (17514):     43c4f328  aca8c602  /system/lib/libdvm.so
I/DEBUG   (17514):     43c4f32c  aca8c658  /system/lib/libdvm.so
I/DEBUG   (17514):     43c4f330  42152835
I/DEBUG   (17514):     43c4f334  420e2f86
I/DEBUG   (17514):     43c4f338  0000ce40
I/DEBUG   (17514):     43c4f33c  aca9e5c8
I/DEBUG   (17514):     43c4f340  400221a0
I/DEBUG   (17514):     43c4f344  00000000
I/DEBUG   (17514):     43c4f348  0000ce40
I/DEBUG   (17514):     43c4f34c  aca9e5c8
I/DEBUG   (17514):     43c4f350  400221a0
I/DEBUG   (17514):     43c4f354  aca58ff7  /system/lib/libdvm.so
I/DEBUG   (17514): #01 43c4f358  00000000
I/DEBUG   (17514):     43c4f35c  aca4d619  /system/lib/libdvm.so
D/dalvikvm(16036): GC_EXPLICIT freed 28K, 54% free 3125K/6727K, external 1361K/1777K, paused 1809ms
I/BootReceiver(  150): Copying /data/tombstones/tombstone_02 to DropBox (SYSTEM_TOMBSTONE)
E/InputDispatcher(  150): channel '407b43f0 com.csipsimple/com.csipsimple.ui.SipHome (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
E/InputDispatcher(  150): channel '407b43f0 com.csipsimple/com.csipsimple.ui.SipHome (server)' ~ Channel is unrecoverably broken and will be disposed!
D/Zygote  (  112): Process 17517 terminated by signal (11)
I/ActivityManager(  150): Process com.csipsimple (pid 17517) has died.
I/WindowManager(  150): WIN DEATH: Window{407b43f0 com.csipsimple/com.csipsimple.ui.SipHome paused=false}
W/ActivityManager(  150): Scheduling restart of crashed service com.csipsimple/.service.SipService in 5000ms</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Feb 19, 2011 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Arg you're right I forgot to upgrade the ginger build last night. (I did a big fix in the way I manage audio routing).</p>

<p>Thanks a lot for the report. I'll fix that right now !</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Feb 19, 2011 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Should be fixed with revision 657.</p>

<p>Let me know how it goes.</p>

<p>Again, thanks for your tests :) it help me a lot ! 
I can't re validate all devices at each step and your feedback is really appreciated :). I should start to make some automatic unitary tests... but time is missing ;)</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Feb 25, 2011 by
                  <i class="ng-binding">Happy Rhino</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>This did fix the problem, thanks!  Would also be good if you can take a look at Issue 676 when you get a chance - it's causing csipsimple to crash parts of the OS and cause other problems that most people probably won't associate with csipsimple.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Fixed</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Critical</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>