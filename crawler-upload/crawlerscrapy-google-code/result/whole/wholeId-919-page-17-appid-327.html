https://code.google.com/archive/p/android-daisy-epub-reader/issues/81<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/android-daisy-epub-reader/">Project</a>
    </li>
    <li>
      <a href="/archive/p/android-daisy-epub-reader/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/android-daisy-epub-reader/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/android-daisy-epub-reader/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/android-daisy-epub-reader/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=android-daisy-epub-reader">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/android-daisy-epub-reader/logo.png">
            <h1 class="ng-binding">android-daisy-epub-reader - issue #81</h1>
            <p class="ng-binding">NewStory: Enhancing the code: Fix the errors and warnings reported by Android Lint</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 10, 2013 by
                  <i class="ng-binding">Helpful Panda</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Android Lint reports various errors and warnings about our app. In most cases these errors and warnings are worth addressing and we have agreed to clean up the app by modifying the code to address the warnings and errors. </p>

<p>When the warnings are for third-party software such as actionbarsherlock we will work with that project to see if they will accept changes and merge them into their codebase, rather than patching a local revision of their work.</p>

<p>Our strategy to address the errors and warnings is to address errors first (done for our codebase), then each category of warning one-by-one. Our commit message should include the command we used to find the category of warning to help other people do similar work for their project.</p>

<p>e.g. </p>

<p>lint --quiet --check HardcodedText . </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 11, 2013 by
                  <i class="ng-binding">Happy Horse</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I check source code by command "lint --check our source". It was show "No issues found". Does It mean our project passed Android Lint?.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length --><small ng-if="comment.attachments.length" class="ng-scope">Attachments</small><!-- end ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments --><ul ng-repeat="attachment in comment.attachments" class="ng-scope">
                <li class="ng-binding">
                  <a href="http://storage.googleapis.com/google-code-attachments/android-daisy-epub-reader/issue-81/comment-1/image.JPG" class="ng-binding">
                    image.JPG
                  </a> 27.46KB
                </li>
              </ul><!-- end ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 11, 2013 by
                  <i class="ng-binding">Helpful Panda</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Not quite :)</p>

<p>I get similar results if I specify the full path to the src folder of DaisyBookLister i.e. no issues found. However there are Lint issues in the project. Instead of using src as a folder, try using the root of the project i.e. DaisyBookLister as the target directory (remove \src from your example command line). You should then get 14 errors and 3 warnings. (see below from my snapshot of your latest changes on 11 Oct 2013)</p>

<p>Here are some suggestions to address the errors: Try moving the extra lines you added to the 3 language specific strings.xml from DaisyBookLister. Let's try fixing the missing translations for strings in actionbarsherlock in that project (or a fork). I think there's some work needed to understand how best to fix problems in external Android libraries such as actionbarsherlock. Let's see if we can address them in a separate story.</p>

<p>We'll speak on Monday about this. Thanks for making the rest of the improvements. </p>

<p>DaisyBookLister: Error: No .class files were found in project "DaisyBookLister", so none of the classfile based checks could be run. Does the project need to be built first? [LintError]
/Users/julianharty_air/myopensourceprojects/clean-new-android-daisy-reader/actionbarsherlock/res/layout/abs__screen_action_bar.xml:52: Warning: The id "abs__split_action_bar" in layout "abs__screen_action_bar" is missing from the following layout configurations: layout-xlarge (present in layout) [InconsistentLayout]
        android:id="@+id/abs__split_action_bar"
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/julianharty_air/myopensourceprojects/clean-new-android-daisy-reader/actionbarsherlock/res/layout/abs__screen_action_bar_overlay.xml:53: Warning: The id "abs__split_action_bar" in layout "abs__screen_action_bar_overlay" is missing from the following layout configurations: layout-xlarge (present in layout) [InconsistentLayout]
    Navigate home
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:86: Also translated here
    res/values-vi/strings.xml:85: Also translated here
res/values-en-rGB/strings.xml:9: Error: "abs__action_bar_up_description" is translated here but not found in default locale [ExtraTranslation]
    Navigate up
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:87: Also translated here
    res/values-vi/strings.xml:86: Also translated here
res/values-en-rGB/strings.xml:10: Error: "abs__action_menu_overflow_description" is translated here but not found in default locale [ExtraTranslation]
    More options
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:88: Also translated here
    res/values-vi/strings.xml:87: Also translated here
res/values-en-rGB/strings.xml:11: Error: "abs__action_mode_done" is translated here but not found in default locale [ExtraTranslation]
    Done
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:89: Also translated here
    res/values-vi/strings.xml:88: Also translated here
res/values-en-rGB/strings.xml:12: Error: "abs__activity_chooser_view_see_all" is translated here but not found in default locale [ExtraTranslation]
    See all…
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:90: Also translated here
    res/values-vi/strings.xml:89: Also translated here
res/values-en-rGB/strings.xml:13: Error: "abs__activitychooserview_choose_application" is translated here but not found in default locale [ExtraTranslation]
    Choose an application
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:91: Also translated here
    res/values-vi/strings.xml:90: Also translated here
res/values-en-rGB/strings.xml:14: Error: "abs__shareactionprovider_share_with" is translated here but not found in default locale [ExtraTranslation]
    Share with
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:92: Also translated here
    res/values-vi/strings.xml:91: Also translated here
res/values-en-rGB/strings.xml:15: Error: "abs__shareactionprovider_share_with_application" is translated here but not found in default locale [ExtraTranslation]
    Share with %s
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:93: Also translated here
    res/values-vi/strings.xml:92: Also translated here
res/values-en-rGB/strings.xml:16: Error: "abs__searchview_description_search" is translated here but not found in default locale [ExtraTranslation]
    Search
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:94: Also translated here
    res/values-vi/strings.xml:93: Also translated here
res/values-en-rGB/strings.xml:17: Error: "abs__searchview_description_query" is translated here but not found in default locale [ExtraTranslation]
    Search query
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:95: Also translated here
    res/values-vi/strings.xml:94: Also translated here
res/values-en-rGB/strings.xml:18: Error: "abs__searchview_description_clear" is translated here but not found in default locale [ExtraTranslation]
    Clear query
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:96: Also translated here
    res/values-vi/strings.xml:95: Also translated here
res/values-en-rGB/strings.xml:19: Error: "abs__searchview_description_submit" is translated here but not found in default locale [ExtraTranslation]
    Submit query
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:97: Also translated here
    res/values-vi/strings.xml:96: Also translated here
res/values-en-rGB/strings.xml:20: Error: "abs__searchview_description_voice" is translated here but not found in default locale [ExtraTranslation]
    Voice search
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    res/values-ko/strings.xml:98: Also translated here
    res/values-vi/strings.xml:97: Also translated here</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Oct 14, 2013 by
                  <i class="ng-binding">Helpful Panda</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Here are some useful tips on running Android Lint for projects, including ours, that use library projects. </p>

<p><a href="http://stackoverflow.com/questions/9822019/android-lint-report-for-my-project-only-excluding-library-projects">http://stackoverflow.com/questions/9822019/android-lint-report-for-my-project-only-excluding-library-projects</a> - turn off warnings for the library projects so we can focus on the problems in our codebase (first).</p>

<p><a href="http://stackoverflow.com/questions/10260801/actionbarsherlock-gives-tons-of-call-requires-api-level-11-current-min-is-7/10288804#10288804">http://stackoverflow.com/questions/10260801/actionbarsherlock-gives-tons-of-call-requires-api-level-11-current-min-is-7/10288804#10288804</a> to address some of the warnings we see. Interestingly ActivityCompat is mentioned in the comments as a recommended approach for improving backwards compatibility and the fix for the warnings about API versions in ActionBarSherlock. </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Started</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-High</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>