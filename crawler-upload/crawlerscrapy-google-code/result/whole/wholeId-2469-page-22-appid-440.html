https://code.google.com/archive/p/csipsimple/issues/2353<!DOCTYPE html><html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head>
    <meta charset="utf-8">
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="/archive/img/project-hosting.ico">
    <script src="//www.google.com/js/google.js"></script>
    <link href="//www.google.com/css/maia.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="/archive/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="/archive/angular.js"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="/archive/pagedown.js"></script>
    <script src="/archive/archive.js"></script>
    <base href="/archive/">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="/archive/">
          </a><h1><a href="/archive/">
            <img alt="Google" src="//www.google.com/images/branding/googlelogo/1x/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="#content">Skip to content</a>
        <div class="maia-util">
          <form action="/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectIssueCtrl as issueCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="projectCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == 'projects'}">
        <a href="/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == 'search'}">
        <a href="/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == 'about'}">
        <a href="/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: issueCtrl.notFound -->

  <div ng-hide="issueCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="issueCtrl.domain" project="issueCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == 'code.google.com'" class="ng-scope">
    <li class="active">
      <a href="/archive/p/csipsimple/">Project</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/source">Source</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/issues">Issues</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/wikis">Wikis</a>
    </li>
    <li>
      <a href="/archive/p/csipsimple/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=csipsimple">Export to GitHub</a>
            <img class="gca-project-logo" src="https://storage.googleapis.com/google-code-archive/v2/code.google.com/csipsimple/logo.png">
            <h1 class="ng-binding">csipsimple - issue #2353</h1>
            <p class="ng-binding">CSS crashes, making a call</p>
        </div>

        <div class="maia-col-10">
          <hr>

        <!-- ngIf: issueCtrl.error -->

        <!-- ngIf: !issueCtrl.error --><div ng-if="!issueCtrl.error" class="ng-scope">
          <!-- Comments -->
          <div class="maia-col-8">
            <!-- ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 12, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p><b>What steps will reproduce the problem?</b>
1. Make call to voicemail (or any other destination)
2. Call is answered, but in a while (random) CSS drops current call (crashes) and sends new REGISTER requests</p>

<p><b>What is the expected output? What do you see instead?</b>
Expected: CSS continues the answered call
Instead: CSS drops the call randomly</p>

<p><b>What version of the product are you using? On what operating system?</b>
v1.00.00 r2225
Android, v2.2</p>

<p><b>Please provide any additional information below.</b>
Can't make any calls. CSS </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #1</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 12, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Can you capture logs of the situation? 
Turn the phone into higher log level with Help &gt; record logs and just after it's reproduced go in Help &gt; send logs.
As random and with the information we have on the problem I fear will be hard to reproduce so if we have logs will be easier to find out the root cause of the problem.
Thanks !</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #2</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 13, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I've installed the latest r2230 and made a call to voicemail (to remove any other parties, except CSS and FreeSWITCH). Call was answered and then, in a couple of seconds, CSS goes to restart. I guess what you're looking for should be here:
...
D/libpjsip( 2033): 14:17:28.067   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.097   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.097   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.122   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.152   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.177   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.177   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.202   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.233   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
D/libpjsip( 2033): 14:17:28.233   Master/sound  Underflow, buf_cnt=0, will generate 1 frame
I/BootReceiver(  213): Copying /data/tombstones/tombstone_03 to DropBox (SYSTEM_TOMBSTONE)
W/ContentService(  213): binderDied() at ObserverNode name accounts_status
W/ContentService(  213): binderDied() at ObserverNode name accounts_status
V/NotificationService(  213): dual Led off
I/ActivityManager(  213): Process com.csipsimple:sipStack (pid 2033) has died.
D/WifiService(  213): releaseWifiLockLocked: WifiLock{com.csipsimple.InCallLock type=1 binder=android.os.BinderProxy@4582d090}
I/WindowManager(  213): WIN DEATH: Window{457db628 com.csipsimple/com.csipsimple.ui.incall.InCallActivity paused=false}
E/lights  (  213): write ok string=0,len=1
E/lights  (  213): write ok string=0,len=1
E/lights  (  213): write ok string=0 0,len=3
E/lights  (  213): write ok string=0,len=1
E/lights  (  213): write ok string=0,len=1
W/ActivityManager(  213): Scheduling restart of crashed service com.csipsimple/.service.SipService in 5000ms
D/WifiService(  213): enable and start wifi due to updateWifiState
E/lights  (  213): write ok string=0 0,len=3
D/Zygote  (  179): Process 2033 terminated by signal (11)
D/Sensors (  213): close_akm, fd=99
W/AudioService(  213):   AudioFocus   audio focus client died
I/AudioService(  213):  AudioFocus  abandonAudioFocus(): removing entry for android.media.AudioManager@45462120com.csipsimple.utils.audio.AudioFocus8$1@453a1118
W/AudioService(  213): Volume service client died for stream: 1
E/ActivityManager(  213): fail to set top app changed!
W/AudioService(  213): Volume service client died for stream: 2
W/AudioService(  213): Volume service client died for stream: 3
W/AudioService(  213): Volume service client died for stream: 5
W/AudioService(  213):   AudioFocus   audio focus client died
D/dalvikvm(  213): GC_FOR_MALLOC freed 7220 objects / 1172648 bytes in 154ms
D/SIP_HOME( 2082): On Resume SIPHOME
I/AudioHardwareMSM72XX(  180): AudioHardware pcm recording is going to standby.
I/AudioHardwareMSM72XX(  180): Routing audio to Handset
I/AudioHardwareMSM72XX(  180): doAudioRouteOrMute() device 0, mMode 0, mMicMute 0
D/HTC Acoustic(  180): msm72xx_enable_audpp: 0x0000
I/AudioHardwareMSM72XX(  180): Routing audio to Handset
I/AudioHardwareMSM72XX(  180): Routing audio to Handset
I/AudioHardwareMSM72XX(  180): doAudioRouteOrMute() device 0, mMode 0, mMicMute 0
D/HTC Acoustic(  180): msm72xx_enable_audpp: 0x0000
I/UsageStats(  213): Unexpected resume of com.csipsimple while already resumed in com.csipsimple
I/LSState (  213): EventReceiver:android.intent.action.NOTIFICATION_REMOVE
D/NotificationService(  213): cancelNotification, ACTION_NOTIFICATION_REMOVE,pkg=com.csipsimple,id=1
D/SIP_HOME( 2082): WE CAN NOW start SIP service
I/pthread ( 2082): ## thread 2082 is creating thread @dalvik/vm/Thread.c:1443
I/pthread ( 2082): ## thread 2143 is created success
I/ActivityManager(  213): Start proc com.csipsimple:sipStack for service com.csipsimple/.service.SipService: pid=2144 uid=10069 gids={3003, 3002, 1007, 1015, 1006}
...</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #3</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 13, 2013 by
                  <i class="ng-binding">Quick Hippo</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Thanks for the logs !</p>

<p>It's very strange.
There is no java stack trace and no native core dump. :/.</p>

<p>I already encountered that twice :
 * once when a third party app that kills other apps did some weird things but never in normal use case.
 * another time when the app was using far too many memory and gets killed by the OS.
(which is almost same than first case, but instead of an app that has its own internals decision, it's the OS that has usually better reasons for killing apps ;) )</p>

<p>I guess I can eliminate the first one (else would have happen before for you).</p>

<p>So it could be the second solution. So some additional questions:
 - what is the codec used? (If opus I might understand the root cause ;) ).
 - is there a lot of 'Master/sound  Underflow' logs before the crash happens?
 - is there some advanced audio option enabled (for example different clock rate/different audio quality/different audio troubleshooting options). In case of doubt you can use the option to reset to default settings in menu &gt; settings &gt; reset
 - is it stock rom for the device and if not is there some tweak made on RAM usage?</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #4</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 13, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><ol>
<li>In this particular case codec was GSM/8000. But I experience similar thing with other codecs too (including PCMU).</li>
<li>There were about 70 Master/sound  Underflow messages right before the event</li>
<li>I don't think so. I did not play with those settings and I assume they are default</li>
<li>ROM is based on stock and it's very stable (except CSS has problems with waking up in time with it). I don't know about such tweak.</li>
</ol>

<p>Unrelated. How to get rid of stupid reCAPTCHA? Sometimes I have to go through many many attempts just to post here. :( It's not for separating humans from robots, it's treating humans as idiots... </p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #5</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 14, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>The random restarts (crashed) become a serious problem. It makes it hard to test other things. Running current r2236...</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #6</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on May 19, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>I can't use the latest releases. The all constantly crash :(
Thus I have no options, but to return to the old stable version r2174.</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments --><div ng-repeat="comment in issueCtrl.issue.comments" class="ng-scope">
              <div>
                <!-- ngIf: comment.id --><h3 ng-if="comment.id" class="ng-binding ng-scope">Comment #7</h3><!-- end ngIf: comment.id -->
                <!-- ms to seconds. -->
                <small class="ng-binding">
                  Posted on Sep 16, 2013 by
                  <i class="ng-binding">Quick Giraffe</i>
                </small>
              </div>

              <!-- TODO(chrsmith): Get the formatting right. Google Code comments
              are not stored in wiki/markdown or HTML format. So we probably need to
              create a custom filter to get 100% paritiy. -->
              <!-- ngIf: comment.content --><span ng-if="comment.content" class="ng-scope">
                <markdown-widget text="comment.content" class="markdown"><p>Today I've installed the latest r2300 and it still crashes. Just made 5 test calls and 3 of them were suddenly abrupted within first minute of the call (CSS crashes and goes to restart itself)... Not a good sign at all. I can't use CSS for anything except small tests now :(</p></markdown-widget>
              </span><!-- end ngIf: comment.content -->
              <!-- ngIf: !comment.content -->

              <!-- ngIf: comment.attachments.length -->
              <!-- ngRepeat: attachment in comment.attachments -->
            </div><!-- end ngRepeat: comment in issueCtrl.issue.comments -->
          </div>

          <!-- Sidebar with additional information -->
          <div class="maia-col-4">
            <div class="maia-aside">
              <p>Status: <code class="ng-binding">Need-Details</code></p>
              <!-- ngIf: issueCtrl.issue.labels.length > 0 --><p ng-if="issueCtrl.issue.labels.length &gt; 0" class="ng-scope">
                Labels:
                <br>
                <!-- ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Type-Defect</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index --><span ng-repeat="label in issueCtrl.issue.labels track by $index" class="ng-scope">
                  <span class="gca-label ng-binding">Priority-Medium</span>
                </span><!-- end ngRepeat: label in issueCtrl.issue.labels track by $index -->
              </p><!-- end ngIf: issueCtrl.issue.labels.length > 0 -->
            </div>
          </div>
        </div><!-- end ngIf: !issueCtrl.error -->
      </div>
    </div>

  </div>
</div>
</div></div></div>
    <noscript>
      &lt;p&gt;The Google Code Archive requires JavaScript to be enabled in your browser.&lt;/p&gt;
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="//www.google.com/">Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="//www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="//www.google.com/js/maia.js"></script>
  


</body></html>