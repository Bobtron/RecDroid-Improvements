https://github.com/esl/mangosta-android/issues/29<td class="d-block comment-body markdown-body  js-comment-body">

          <p>I see you are using your static Smack libraries, tagged as 4.2.0-beta3.  I tried to pull it from maven, but it throws errors when casting a<code>BoBExtension</code>.  Neither the release version 4.2.0 is compatible throwing the same error message.</p>
<p>I believe you did some modifications on it, right?  Would you mind sharing it? Thank you</p>
<pre><code>Exception in async packet listener
  java.lang.ClassCastException: org.jivesoftware.smackx.xhtmlim.packet.XHTMLExtension cannot be cast to org.jivesoftware.smackx.bob.element.BoBExtension
      at org.jivesoftware.smackx.bob.element.BoBExtension.from(BoBExtension.java:93)
      at com.messenger.xmpp.XMPPSession.manageMessageReceived(XMPPSession.java:806)
      at com.messenger.xmpp.XMPPSession.saveMessage(XMPPSession.java:717)
      at com.messenger.xmpp.XMPPSession.access$600(XMPPSession.java:102)
      at com.messenger.xmpp.XMPPSession$3.processStanza(XMPPSession.java:256)
      at org.jivesoftware.smack.AbstractXMPPConnection$4.run(AbstractXMPPConnection.java :1164)
      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
      at java.lang.Thread.run(Thread.java:818)
</code></pre>
      </td>